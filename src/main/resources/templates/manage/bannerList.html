<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

 <head th:replace="~{/layout/header::head('검색 결과')}"></head>
<style>
   .second_main_wrap {
    display: flex;
  }

  .split1 {
    flex: 0 0 20%;
  }

  .split2 {
    flex: 0 0 80%;
  }
  
  .listWrap1 {
    height: 100%;
    width: 100%;
  }
  
  #userList a,
  #productList a,
  #reserveList a,
  #reviewList a,
  #bannerList a {
    display: block;
    width: 100%;
    height: 100%;
    text-decoration: none;
    color: #404040; /* 기본 글씨 색상 */
    padding: 10px;
    box-sizing: border-box;
    font-size: 2.5em;
    font-weight: bold;
    position: relative;
    transition: color 0.3s; /* hover 시 글씨 색상 변화 트랜지션 설정 */
  }
#bannerList a::after {
    content: "";
    display: block;
    width: 90%;
    height: 2px;
    background-color: #404040; /* 언더라인 색상 */
    transition: width 0.3s;
    position: absolute;
    bottom: 0;
    left: 0;
  }

  #userList a:hover,
  #productList a:hover,
  #reserveList a:hover,
  #reviewList a:hover,
  #bannerList a:hover {
    color: #96B6C5; /* hover 시 글씨 색상 변화 */
  }
  
  #userList a::after,
  #productList a::after,
  #reserveList a::after,
  #reviewList a::after {
    content: "";
    display: block;
    width: 0;                    /* 초기에는 0으로 설정 */
    height: 2px;
    background-color: #96B6C5; /* 언더라인 색상 */
    transition: width 0.3s;
    position: absolute;
    bottom: 0;
    left: 0;
  }
  
  #userList a:hover::after,
  #productList a:hover:after,
  #reserveList a:hover::after,
  #reviewList a:hover::after {
    width: 90%;
  }
  


  
  
</style>
</style>  
<body>

  <div th:replace="~{/layout/header::header}"></div>

  <div class="container text-center">  <!-- 그리드 시작 -->  
  
  <div class="main_wrap">
	
	
		 <div class="container text-center">
		  <div class="row">
		    <div class="col-1">	      
		    </div>
        <div class="col-10" style="border:1px gray dotted">
            <!--/*여기에 작성/ 다 만들고 style 지워주세요  */-->
		   
        		         
          <div class="second_main_wrap">
              
            <div class="split1">
                
              <!--/* 각 관리 페이지로 이동 가능한 좌측 목록 */-->
              <div class="listWrap1">
                <div id="userList">
                  <a th:href="@{/manage/userList.do}">회원관리</a>
                </div>
                <div id="productList">
                  <a th:href="@{/manage/productList.do}">상품관리</a>
                </div>
                <div id="reserveList">
                  <a th:href="@{/manage/reserveList.do}">예약관리</a>
                </div>
                <div id="reviewList">
                  <a th:href="@{/manage/reviewList.do}">리뷰관리</a>
                </div>
                <div id="bannerList">
                  <a th:href="@{/manage/bannerList.do}">배너관리</a>
                </div>
              </div>
             </div> 
              <div class="split2">
                
            	 <form class="banner" method="post" name="bannerImage" th:action="@{/hotel/bannerAdd.do}" enctype="multipart/form-data" style = "border: 1px gray solid;" >
			           <div class="image_wrapper">
			             <div id="previewId"></div>
					         <input type="file" id="image" name="files" class="input-group-text" onchange="previewImage(this,'previewId')" accept="image/gif,image/jpeg,image/png" required/>
			           </div>		               
			           <div>
				           <select>
										 <option value="1" selected>게시하기</option>
										 <option value="0">내리기</option>
									 </select>
				                   
						       <button type="submit" class="btn btn-secondary">완료</button>
			           </div>
				    	</form>
				    	<form class="bannerLink" method="post" name="bannerLink" th:action="@{/hotel/bannerLinkAdd.do}">
								<input type="text" name="linkedAdress" placeholder="기본설정으로 메인페이지 입니다. ">
								<button type="submit" >주소 저장</button>
								
							</form>      




	            </div>
	          <div class="col-1">	      
			    </div>
			  </div>
		  </div>
		
		</div>
     
      
<script th:inline="javascript">
	function previewImage(targetObj, previewId) {
		
		  var preview = document.getElementById(previewId); //div id   
	     var ua = window.navigator.userAgent;
	
	     var files = targetObj.files;
	     for ( var i = 0; i < files.length; i++) {
	
	         var file = files[i];
	
	         var imageType = /image.*/; //이미지 파일일경우만.. 뿌려준다.
	         if (!file.type.match(imageType))
	             continue;
	
	         var prevImg = document.getElementById("prev_" + previewId); //이전에 미리보기가 있다면 삭제
	         if (prevImg) {
	             preview.removeChild(prevImg);
	         }
	         var img = document.createElement("img"); //크롬은 div에 이미지가 뿌려지지 않는다. 그래서 자식Element를 만든다.
	         img.id = "prev_" + previewId;
	         img.classList.add("obj");
	         img.file = file;
	         img.style.width = '560px'; //기본설정된 div의 안에 뿌려지는 효과를 주기 위해서 div크기와 같은 크기를 지정해준다.
	         img.style.height = '270px';
	         
	         preview.appendChild(img);
	
	         if (window.FileReader) { // FireFox, Chrome, Opera 확인.
	             var reader = new FileReader();
	             reader.onloadend = (function(aImg) {
	                 return function(e) {
	                     aImg.src = e.target.result;
	                 };
	             })(img);
	             reader.readAsDataURL(file);
	         }   
	     }       
	  }

	 const fnFileCheck = () => {
		    $('#image').change((ev) => {
		      let maxSize = 1024 * 1024 * 100;
		      let maxSizePerFile = 1024 * 1024 * 10;
		      let totalSize = 0;
		      let files = ev.target.files;
		      for(let i = 0; i < files.length; i++){
		        totalSize += files[i].size;
		        if(files[i].size > maxSizePerFile){
		          alert('각 첨부파일의 최대 크기는 10MB입니다.');
		          $(ev.target).val('');
		          return;
		        }
		      }
		      if(totalSize > maxSize){
		        alert('전체 첨부파일의 최대 크기는 100MB입니다.');
		        $(ev.target).val('');
		        return;
		      }
		    })
		  }
  	
  fnFileCheck();
  	
</script>      
      


    <div th:replace="~{/layout/footer::footer}"></div>

 
</body>
</html>

