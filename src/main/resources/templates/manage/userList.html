<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{/layout/header::head('일반회원관리')}"></head>

<style>

  .listWrap2 {
    display: flex;
    flex-direction: row;
  }
  
  #user, #inactiveUser, #leaveUser {
    flex: 1;
    margin: 5px;
  }
  
  /* 링크 스타일 */
  #user a, #inactiveUser a, #leaveUser a {
    text-decoration: none;
    color: #333; /* 링크 색상 조절 */
    display: block;
    padding: 10px;
    text-align: center;
    background-color: #f2f2f2; /* 배경색 조절 */
    border: 1px solid #ccc; /* 테두리 추가 */
    border-radius: 15px; 
  }
  
  /* 호버 시 배경색 조절 */
  #user a:hover, #inactiveUser a:hover, #leaveUser a:hover {
    background-color: #ddd; 
  }

  .listWrap2 a {
    color: #333333;
    font-size: large;
  }
  
  .listWrap2 #user a{
    background-color: #ddd; /* 배경색 조절 */
  }
  
  .listMainWrap {
    margin-top: 10%;
  }
  
  .table_to_detail a {
    color: #1a1a1a;
    cursor: pointer;
  }
  
</style>
<script th:inline="javascript">

  $(() => {
	 fnRemoveMember();
  })
	
  const fnRemoveMember = () => {
  	let removeResult = /*[[${removeResult}]]*/ null;
  	if(removeResult !== null){
  	  if(reremoveResult === 1){
  		alert('회원이 탈퇴되었습니다.');
  	  } else {
  		alert('회원이 탈퇴되지 않았습니다.');
  	  }
  	}
  }
	
</script>
<body>
  <div th:replace="~{/layout/header::header}"></div>
 

      
  <div class="mainWrap">
      
    <div class="split1">
        
      <!--/* 각 관리 페이지로 이동 가능한 좌측 목록 */-->
      <div class="listWrap1">
        <div id="userList">
          <a th:href="@{/manage/userList.do}">회원관리</a>
        </div>
        <div id="productList">
          <a th:href="@{/manage/productList.do}">상품관리</a>
        </div>
        <div id="reseveList">
          <a th:href="@{/manage/reserveList.do}">예약관리</a>
        </div>
        <div id="reviewList">
          <a th:href="@{/manage/reviewList.do}">리뷰관리</a>
        </div>
        <div id="bannerList">
          <a th:href="#">배너관리</a>
        </div>
      </div>
        
    </div>
    
    
    <div class="split2">
        
      <!--/* 각 회원관리 페이지로 이동 가능한 상단 목록 */-->
      <div class="listWrap2">
        <div id="user">
          <a th:href="@{/manage/userList.do}">일반회원관리</a>
        </div>
        <div id="inactiveUser">
          <a th:href="@{/manage/inactiveUserList.do}">휴면회원관리</a>
        </div>
        <div id="leaveUser">
          <a th:href="@{/manage/leaveUserList.do}">탈퇴회원관리</a>
        </div>
      </div>
        

      <!--/* 관리 회원목록이 표시될 div */-->
      <div class="listMainWrap">
          
        <!--/* 총 회원 수를 표시 */-->
        <div style="text-align: right;">총 ${total}명</div>
          
        <!--/* 전체 목록을 나타내는 테이블 */-->
        <div>
          <table border="1" class="table">
            <thead>
              <tr>
                <th scope="col">회원번호</th>
                <th scope="col">이메일</th>
                <th scope="col">이름</th>
                <th scope="col">전화번호</th>
                <th scope="col">성별</th>
                <th scope="col">가입형태</th>
                <th scope="col">가입일</th>
                <th scope="col">권한</th>
              </tr>
            </thead>
            <tbody class="table-group-divider table_to_detail">
              <th:block th:each="u:${userList}">
                <tr>
                  <th scope="row" th:text="${u.userNo}"></th>
                  <td>
                    <a th:href="@{/manage/userDetail.do(userNo=${u.userNo})}" th:text="${u.email}"></a>
                  </td>
                  <td>
                    <a th:href="@{/manage/userDetail.do(userNo=${u.userNo})}" th:text="${u.name}"></a>
                  </td>
                  <td>
                    <a th:href="@{/manage/userDetail.do(userNo=${u.userNo})}" th:text="${u.mobile}"></a>
                  </td>
                  <td>
                    <th:block th:if="${u.gender == 'F'}">여자</th:block>
                    <th:block th:if="${u.gender == 'M'}">남자</th:block>
                  </td>
                  <td>
                    <th:block th:if="${u.state == 0}">일반회원</th:block>
                    <th:block th:if="${u.state == 1}">네이버 간편로그인</th:block>
                    <th:block th:if="${u.state == 2}">카카오 간편로그인</th:block>
                  </td>
                    <div th:text="${u.joinedAt}"></div>
                  </td>
                  <td>
                    <th:block th:if="${u.auth != 1}">관리자</th:block>
                    <th:block th:if="${u.auth == 1}">회원</th:block>
                  </td>
                </tr>
              </th:block>
            </tbody>
            <!--/* 페이징 처리 */-->
            <tfoot>
              <tr>
                <td colspan="8" th:utext="${paging}"></td>
              </tr>
            </tfoot>
          </table>
            
          <!--/* 검색기능 */-->
          <div>
            <form id="frm_search" method="get" th:action="@{/manage/userSearchList.do}" >
              <select name="column" id="column" class="form-select-sm" style="height: 40px">
                <option value="USER_NO">회원번호</option>
                <option value="EMAIL">이메일</option>
                <option value="NAME">이름</option>
                <option value="MOBILE">전화번호</option>
                <option value="JOINED_AT">가입일</option>
              </select>
              <input type="text" name="query" id="query" class="form-control-sm" placeholder="검색어 입력" >
              <button type="submit" class="btn btn-outline-success" >검색</button>
            </form>
          </div>
        
        </div>
      </div>

        
    </div>      
  </div>
        

        
      
      

 
 
  <div th:replace="~{/layout/footer::footer}"></div>

</body>
</html>