<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{/layout/header::head('내 예약목록')}"></head> <!-- 이거 알맞게 바꿔주세요-->
<body>
	<div th:replace="~{/layout/header::header}"></div>
	
	<div class="main_wrap">
	
	
		 <div class="container text-center">
		  <div class="row">
		    <div class="col-1">	      
		    </div>
		    <div class="col-10" >
		      	<!--/*여기에 작성/ 다 만들고 style 지워주세요  */-->
		      <div style="padding-bottom: 10px;">
            <span style="font-size: xx-large;">예약내역목록</span>
          </div>
          <div style="margin: 20px auto;">
            <ul class="nav nav-underline justify-content-center">
              <li class="nav-item">
                <a class="nav-link" th:href="|@{/reserve/reserveList.do(userNo=${session.user.userNo})}|"><strong>패키지</strong></a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" th:href="|@{/reserve/reserveHotelList.do(userNo=${session.user.userNo})}|"><strong>호텔</strong></a>
              </li>
            </ul>
          </div>
          <div>
            <table class="table">
              <thead>
                <tr>
                  <th><strong>순번</strong></th>
                  <th><strong>예약날짜/예약번호</strong</th>
                  <th><strong>호텔명</strong</th>
                  <th><strong>체크인/체크아웃</strong</th>
                  <th><strong>금액</strong</th>
                  <th><strong>예약상태</strong</th>
                </tr>
              </thead>
              <tbody>
                <th:block th:each="resHo,vs:${reserveHotelList}">
                  <tr>
                    <td th:text="${beginNo - vs.index}"></td>
                    <td>
                      <a th:href="@{/reserve/detailHotel.do(reserveNo=${resHo.reserveNo}, roomNo=${resHo.roomtypeDto.roomNo})}" th:text="|${resHo.reservedAt} - ${resHo.reserveNo}|"></a>
                    </td>
                    <td>
                      <a th:href="@{/hotel/detail.do(hotelNo=${resHo.hotelDto.hotelNo})}" th:text="${resHo.hotelDto.hotelName}"></a>
                    </td>
                    <td th:text="|${resHo.reserveStart} ~ ${resHo.reserveFinish}|"></td>
                    <td th:text="|${resHo.reservePrice}원|"></td>
                    <th:block th:if="${resHo.reserveStatus == 0}">
                      <td th:text="결제대기"></td>
                    </th:block>
                    <th:block th:if="${resHo.reserveStatus == 1}">
                      <td th:text="예약완료"></td>
                    </th:block>
                    <th:block th:if="${resHo.reserveStatus == 2}">
                      <td th:text="취소"></td>
                    </th:block>
                  </tr>
                </th:block>
              </tbody>
              <tfoot th:if="${not #lists.isEmpty(reserveHotelList)}">
                <tr>
                  <td colspan="6" th:utext="${paging}" class="paging"></td>
                </tr>
              </tfoot>
            </table>
          </div>
		      	
		    </div>
		    <div class="col-1">	      
		    </div>
		  </div>
	  </div>
	
	</div>
	
  <script th:inline="javascript">
    
    function fnCheckResCancel(){
      if('[[${cancelResult}]]' == 1){
        alert('예약이 취소되었습니다.');
      }
    }
  
    fnCheckResCancel();
  </script>
  
  
	<div th:replace="~{/layout/footer::footer}"></div>
</body>
</html>

